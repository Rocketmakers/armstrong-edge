import { Canvas, ArgTypes } from '@storybook/blocks';
import { Meta } from '@storybook/addon-docs/blocks';
import { DateTimeInput } from './dateTimeInput.component';

import * as DateTimeInputStories from './dateTimeInput.stories';

<Meta title="Components/DateTime Input" component={DateTimeInput} />

# DateTime input

`DateTimeInput` is a datepicker based on <a href="https://reactdatepicker.com" target="_blank">React Date Picker</a>

<Canvas of={DateTimeInputStories.Default} layout="centered" sourceState="none" />

```tsx
import { formProp, DateTimeInput } from '@rocketmakers/armstrong';

const { formProp } = useForm({ date: '30/05/2023' });

<DateTimeInput bind={formProp('date').bind()} />;
```

## DateTime input Props

<ArgTypes of={DateTimeInput} />

## Examples

- [Basic example](#basic)
- [Date range example](#range)
- [Min/max dates example](#min-max)
- [Native datepicker](#native)
- [`disabled`](#disabled)
- [`displaySize`](#displaySize)
- [`validationErrorMessages`](#validationErrorMessages)
- [`Mode`](#mode)
- [`monthSelectVariant`](#monthSelectVariant)

<br />

### <a name="basic">Basic example</a>

<Canvas of={DateTimeInputStories.Default} layout="centered" sourceState="none" />

```tsx
const { formProp } = useForm({ date: '30/05/2023' });

<DateTimeInput bind={formProp('date').bind()} />;
```

The `bind` prop is used for binding to an Armstrong form binder (see forms documentation).

<br />

### <a name="range">Date range example</a>

<Canvas of={DateTimeInputStories.Range} layout="centered" sourceState="none" />

```tsx
<DateTimeInput selectsRange startBind={formProp('startDate').bind()} endBind={formProp('endDate').bind()} />
```

The `selectRange` prop is a boolean that determines whether to select a single date or a date range. It is false by default.

<br />

### <a name="min-max">Min/max dates example</a>

The `minDate` and `maxDate` properties within the `config` prop restrict the range of selectable dates to between the specified minimum and maximum values.

<Canvas of={DateTimeInputStories.MinMaxDays} layout="centered" sourceState="none" />

```tsx
<DateTimeInput bind={formProp('date').bind()} config={{ minDate: new Date(), maxDate: addDays(new Date(), 5) }} />
```

<br />

### <a name="native">Native datepicker</a>

Whether to render a native date input (useful for mobile).

<Canvas of={DateTimeInputStories.Native} layout="centered" sourceState="none" />

```tsx
<DateTimeInput native={true} />
```

<br />

### <a name="disabled">`disabled`</a>

```tsx
<DateTimeInput bind={formProp('date').bind()} disabled />
```

<br />

### <a name="displaySize">`displaySize`</a>

<Canvas of={DateTimeInputStories.Sizes} layout="centered" sourceState="none" />

```tsx
<DateTimeInput bind={formProp('date').bind()} displaySize="small" />
```

Size options:

- `small`
- `medium` (default)
- `large`
- `custom-<string>`

<br />

### <a name="validationErrorMessages">`validationErrorMessages`</a>

<Canvas of={DateTimeInputStories.ValidationError} layout="centered" sourceState="none" />

```tsx
<DateTimeInput bind={formProp('date').bind()} validationErrorMessages={['invalid date']} validationMode="both" />
```

`validationErrorMessages` are the validation errors from the binder concatenated with manually passed in errors.

`validationMode` determines how to render the validation errors. The `validationMode` options are `icon`, `message` or `both`.

<br />

### <a name="mode">`Mode`</a>

`mode` determines whether to pick date, time or both.

Mode options :

- `date` (default)
- `time`
- `date-time`

<Canvas of={DateTimeInputStories.DateAndTime} layout="centered" sourceState="none" />

```tsx
<DateTimeInput bind={formProp('time').bind()} mode="date-time" />
```

<br />

### <a name="monthSelectVariant">`monthSelectVariant`</a>

The display variant to use for the month/year selectors.

<Canvas of={DateTimeInputStories.LeftAlignVariant} layout="centered" sourceState="none" />

```tsx
<DateTimeInput bind={formProp('date').bind()} locale={enGB} monthSelectVariant="left-align" />
```

`monthSelectVariant` options:

- `left-align`
- `centered` (default)
- `dropdown`
