import { Canvas, ArgTypes } from '@storybook/blocks';
import { Meta } from '@storybook/addon-docs/blocks';
import { RangeInput } from './rangeInput.component';

import * as RangeInputStories from './rangeInput.stories';

<Meta title="Components/rangeInput" component={RangeInput} />

# Range input

A range slider that allows users to choose a specific value by moving a control across a set range.

## Contents

- [Basic range input](#basic)
- [Range input with a label](#with-label)
- [Min and max](#min-max)
- [Step](#step)
- [Sizes](#sizes)
- [Validation](#validation)
- [Thumb customisation](#thumb-customisation)
- [Range input props](#props)

## <a name="basic">Basic range input</a>

<Canvas of={RangeInputStories.Default} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} />
<p>Value: {formState?.value}</p>
```

The `bind` prop is used for binding to an Armstrong form binder (see forms documentation).

The `value` prop is used to set the thumb of the range input.

## <a name="with-label">Range input with a label</a>

<Canvas of={RangeInputStories.Labelled} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} label="label" required={true} />;
```

## <a name="min-max">Min and max</a>

<Canvas of={RangeInputStories.CustomMinAndMax} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} min="40" max="60" />;
```

The `min` prop can be use to set the minimum value for the range. It is `0` by default.

The `max` prop can be use to set the maximum value for the range. It is `100` by default.

## <a name="min-max">Step</a>

<Canvas of={RangeInputStories.CustomStep} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} step="10" />;
```

The `step` prop determines how big the increments should be on the slider. Defaults to `1`.

## <a name="sizes">Sizes</a>

<Canvas of={RangeInputStories.Sizes} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} displaySize="small" />;
```

Sizes available:

- `small`
- `medium` (default)
- `large`
- `custom-<string>`

## <a name="validation">Validation</a>

<Canvas of={RangeInputStories.ValidationError} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} validationErrorMessages={['Invalid selection']} validationMode="both" />;
```

`validationErrorMessages` are the validation errors from the binder concatenated with manually passed in errors.

`validationMode` determines how to render the validation errors. The `validationMode` options are `icon`, `message` or `both`.

## <a name="thumb-customisation">Thumb customisation</a>

<Canvas of={RangeInputStories.CustomThumb} layout="centered" sourceState="none" />

```tsx
const { formProp, formState } = useForm({ value: 50 });

<RangeInput bind={formProp('value').bind()} customThumb={<Icon />} />;
```

## <a name="props">Range input props</a>

<ArgTypes of={RangeInput} />
