import { Canvas, ArgTypes } from '@storybook/blocks';
import { Meta } from '@storybook/addon-docs/blocks';
import { CharacterLimit } from './characterLimit.component';

import * as CharacterLimitStories from './characterLimit.stories';

<Meta title="Components/Character Limit" component={CharacterLimit} />

# Character limit

Shows a character limit that binds with it's associated input.

<Canvas of={CharacterLimitStories.Default} layout="centered" sourceState="none" />

```tsx
const formData: IFormData = { thing: '' };
const { formProp } = useForm(formData);

<Input bind={formProp('thing').bind()} />
<CharacterLimit bind={formProp('thing').bind()} limit="10" />
```

## Character limit Props

<ArgTypes of={CharacterLimit} />

## Examples

- [`limit`](#limit)
- [`overlay`](#overlay)
- [`validationErrorIcon`](#validationErrorIcon)

<br />

### <a name="limit">`limit`</a>

```tsx
<Input bind={formProp('thing').bind()} />
<CharacterLimit bind={formProp('thing').bind()} limit="10" />
```

The `bind` prop is used for binding to an Armstrong form binder (see forms documentation).

The `limit` prop shows a character limit.

<br />

### <a name="overlay">`overlay`</a>

The `CharacterLimit` component offers the option to move the character limit inside the input as an overlay.

<Canvas of={CharacterLimitStories.InsideInput} layout="centered" sourceState="none" />

```tsx
<Input bind={formProp('thing').bind()} rightOverlay={<CharacterLimit bind={formProp('thing').bind()} limit="10" />} />
```

`leftOverlay` and `rightOverlay` add overlays on the sides of certain components. It can be used to display the character limit inside of an input.

<br />

### <a name="validationErrorIcon">`validationErrorIcon`</a>

Adds a custom icon to the `CharacterLimit` when the number of characters typed in the input is greater than the limit.

<Canvas of={CharacterLimitStories.CustomIcon} layout="centered" sourceState="none" />

```tsx
<Input bind={formProp('thing').bind()} />
<CharacterLimit bind={formProp('thing').bind()} limit="10" validationErrorIcon={<Icon />} />
```
