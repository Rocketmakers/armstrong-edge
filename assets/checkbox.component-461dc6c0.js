import{j as O,a as I}from"./jsx-runtime-63e4a166.js";import{_ as S}from"./uniq-d447bef6.js";import{r as e}from"./index-c4905b50.js";import{$ as X,b as R}from"./index-742b7287.js";import{$ as F}from"./index-97ba0010.js";import{c as K,b as P}from"./index-c1bef199.js";import{$ as H}from"./index-b8d80492.js";import{$ as J}from"./index-1381309a.js";import{$ as U}from"./index-3d4ae170.js";import{c as w}from"./classNames-9011e307.js";import{a as W,L as G}from"./label.component-da3470d8.js";import{S as Q}from"./statusWrapper.component-af0746af.js";import{V as Y}from"./validationErrors.component-7077216a.js";import{u as Z}from"./config.context-240cf8e4.js";const A="Checkbox",[ee,ye]=F(A),[te,ae]=ee(A),oe=e.forwardRef((t,m)=>{const{__scopeCheckbox:a,name:l,checked:p,defaultChecked:o,required:f,disabled:s,value:c="on",onCheckedChange:v,...x}=t,[r,h]=e.useState(null),E=X(m,n=>h(n)),k=e.useRef(!1),g=r?!!r.closest("form"):!0,[d=!1,$]=K({prop:p,defaultProp:o,onChange:v}),V=e.useRef(d);return e.useEffect(()=>{const n=r==null?void 0:r.form;if(n){const u=()=>$(V.current);return n.addEventListener("reset",u),()=>n.removeEventListener("reset",u)}},[r,$]),e.createElement(te,{scope:a,state:d,disabled:s},e.createElement(R.button,S({type:"button",role:"checkbox","aria-checked":b(d)?"mixed":d,"aria-required":f,"data-state":D(d),"data-disabled":s?"":void 0,disabled:s,value:c},x,{ref:E,onKeyDown:P(t.onKeyDown,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:P(t.onClick,n=>{$(u=>b(u)?!0:!u),g&&(k.current=n.isPropagationStopped(),k.current||n.stopPropagation())})})),g&&e.createElement(ie,{control:r,bubbles:!k.current,name:l,value:c,checked:d,required:f,disabled:s,style:{transform:"translateX(-100%)"}}))}),ne="CheckboxIndicator",re=e.forwardRef((t,m)=>{const{__scopeCheckbox:a,forceMount:l,...p}=t,o=ae(ne,a);return e.createElement(U,{present:l||b(o.state)||o.state===!0},e.createElement(R.span,S({"data-state":D(o.state),"data-disabled":o.disabled?"":void 0},p,{ref:m,style:{pointerEvents:"none",...t.style}})))}),ie=t=>{const{control:m,checked:a,bubbles:l=!0,...p}=t,o=e.useRef(null),f=H(a),s=J(m);return e.useEffect(()=>{const c=o.current,v=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==a&&r){const h=new Event("click",{bubbles:l});c.indeterminate=b(a),r.call(c,b(a)?!1:a),c.dispatchEvent(h)}},[f,a,l]),e.createElement("input",S({type:"checkbox","aria-hidden":!0,defaultChecked:b(a)?!1:a},p,{tabIndex:-1,ref:o,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function b(t){return t==="indeterminate"}function D(t){return b(t)?"indeterminate":t?"checked":"unchecked"}const se=oe,le=re;const N=e.forwardRef(({bind:t,checked:m,customIndicator:a,className:l,customIndeterminateIndicator:p,disabled:o,onCheckedChange:f,label:s,labelClassName:c,labelId:v,scrollValidationErrorsIntoView:x,statusClassName:r,testId:h,validationErrorsClassName:E,validationErrorMessages:k,validationMode:g,displaySize:d,required:$,requiredIndicator:V,statusPosition:n,...u},z)=>{var M;const B=e.useId(),_=u.id??B,i=Z({scrollValidationErrorsIntoView:x,checkboxCustomIndicator:a,checkboxCustomIndeterminateIndicator:p,requiredIndicator:V,inputStatusPosition:n,validationMode:g,inputDisplaySize:d}),[q,y,C]=W(t,{value:m,onChange:f,validationErrorMessages:k,validationMode:i.validationMode}),T=e.useCallback(L=>{y==null||y(L)},[y]),j=e.useMemo(()=>{switch(q){case"indeterminate":return i.checkboxCustomIndeterminateIndicator;default:return i.checkboxCustomIndicator}},[q,i.checkboxCustomIndicator,i.checkboxCustomIndeterminateIndicator]);return O(Q,{className:w(r,"arm-input-base"),validationMode:C.validationMode,errorIcon:C.validationErrorIcon,statusPosition:i.inputStatusPosition,children:[O("div",{className:w("arm-checkbox-container",l),"data-disabled":o,"data-testid":h,"data-size":i.inputDisplaySize,...u,children:[I(se,{className:"arm-checkbox",disabled:o,id:_,checked:q??void 0,onCheckedChange:T,ref:z,children:I(le,{className:"arm-checkbox-indicator",asChild:!0,children:j})}),s&&I(G,{className:w("arm-checkbox-label",c),"data-disabled":o,htmlFor:_,required:$,requiredIndicator:i.requiredIndicator,displaySize:i.inputDisplaySize,children:s})]}),!!((M=C.validationErrorMessages)!=null&&M.length)&&C.shouldShowValidationErrorMessage&&I(Y,{className:E,validationMode:i.validationMode,validationErrors:C.validationErrorMessages,scrollIntoView:i.scrollValidationErrorsIntoView})]})});N.displayName="Checkbox";try{N.displayName="Checkbox",N.__docgenInfo={description:"",displayName:"Checkbox",props:{validationMode:{defaultValue:null,description:"overrides the error messaging and icon display used in the error validation display",name:"validationMode",required:!1,type:{name:"enum",value:[{value:'"icon"'},{value:'"message"'},{value:'"both"'}]}},scrollValidationErrorsIntoView:{defaultValue:null,description:"(Optional) A boolean flag to automatically scroll validation error messages into view.",name:"scrollValidationErrorsIntoView",required:!1,type:{name:"boolean"}},requiredIndicator:{defaultValue:null,description:'Symbol to use as the required indicator, defaults to "*"',name:"requiredIndicator",required:!1,type:{name:"ReactNode"}},testId:{defaultValue:null,description:"(Optional) A string to set a custom data-testid attribute for the checkbox container.",name:"testId",required:!1,type:{name:"string"}},bind:{defaultValue:null,description:"(Optional) An IBindingProps<TData> object to bind the checkbox input to a form.",name:"bind",required:!1,type:{name:"IBindingProps<TBind>"}},label:{defaultValue:null,description:"(Optional) A React.ReactNode to display a label for the checkbox input.",name:"label",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"(Optional) A boolean flag to disable the checkbox input.",name:"disabled",required:!1,type:{name:"boolean"}},displaySize:{defaultValue:null,description:"which size variant to use",name:"displaySize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},validationErrorsClassName:{defaultValue:null,description:"(Optional) Class name for the validation errors",name:"validationErrorsClassName",required:!1,type:{name:"string"}},validationErrorMessages:{defaultValue:null,description:"(Optional) Can be a string or {key, element} key is necessary for animating in new messages",name:"validationErrorMessages",required:!1,type:{name:"ValidationMessage[]"}},customIndicator:{defaultValue:null,description:"(Optional) A custom JSX.Element for the checked indicator.",name:"customIndicator",required:!1,type:{name:"Element"}},labelClassName:{defaultValue:null,description:"(Optional) Class name for the label component",name:"labelClassName",required:!1,type:{name:"string"}},labelId:{defaultValue:null,description:"(Optional) Id to use for the checkbox. Falls back to React ID if not provided",name:"labelId",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"(Optional) A TData value representing the initial checked state of the checkbox. This can be true, false, or 'indeterminate'.",name:"checked",required:!1,type:{name:"NullOrUndefined<boolean>"}},statusPosition:{defaultValue:null,description:"which side of the button to show the spinner on - defaults to 'right'",name:"statusPosition",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},customIndeterminateIndicator:{defaultValue:null,description:"(Optional) A custom JSX.Element for the indeterminate state indicator.",name:"customIndeterminateIndicator",required:!1,type:{name:"Element"}},onCheckedChange:{defaultValue:null,description:"(Optional) A callback function (newValue: TData) => void to handle state when 'checked' is changed.",name:"onCheckedChange",required:!1,type:{name:"((newValue: TBind) => void)"}},statusClassName:{defaultValue:null,description:"(Optional) Classname to use for the status wrapper",name:"statusClassName",required:!1,type:{name:"string"}}}}}catch{}export{N as C};
//# sourceMappingURL=checkbox.component-461dc6c0.js.map
