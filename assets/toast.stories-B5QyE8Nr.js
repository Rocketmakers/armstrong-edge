import{j as x}from"./jsx-runtime-Cl2eCCBe.js";import{c as ft,w as U,u as B,b as re,e as R,d as ae,a as se,g as pt}from"./classNames-TtGgGdEV.js";import{_ as P}from"./extends-CF3RwP-h.js";import{r as n,R as I}from"./index-Cqyox1Tj.js";import{r as ie,$ as mt}from"./index-QqxU7g3h.js";import{$ as A}from"./index-CcyUcsxs.js";import{u as bt,A as vt}from"./config.context-C5a6Dfld.js";import{B as ze}from"./button.component-C6dxt20C.js";function $t(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function we(...e){return t=>e.forEach(o=>$t(o,t))}function j(...e){return n.useCallback(we(...e),e)}function Ye(e,t=[]){let o=[];function s(a,i){const l=n.createContext(i),d=o.length;o=[...o,i];function c(f){const{scope:g,children:$,...E}=f,b=(g==null?void 0:g[e][d])||l,u=n.useMemo(()=>E,Object.values(E));return n.createElement(b.Provider,{value:u},$)}function p(f,g){const $=(g==null?void 0:g[e][d])||l,E=n.useContext($);if(E)return E;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,p]}const r=()=>{const a=o.map(i=>n.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return n.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return r.scopeName=e,[s,Et(r,...t)]}function Et(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const f=d(a)[`__scope${c}`];return{...l,...f}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return o.scopeName=t.scopeName,o}const pe=n.forwardRef((e,t)=>{const{children:o,...s}=e,r=n.Children.toArray(o),a=r.find(wt);if(a){const i=a.props.children,l=r.map(d=>d===a?n.Children.count(i)>1?n.Children.only(null):n.isValidElement(i)?i.props.children:null:d);return n.createElement(me,P({},s,{ref:t}),n.isValidElement(i)?n.cloneElement(i,void 0,l):null)}return n.createElement(me,P({},s,{ref:t}),o)});pe.displayName="Slot";const me=n.forwardRef((e,t)=>{const{children:o,...s}=e;return n.isValidElement(o)?n.cloneElement(o,{...Tt(s,o.props),ref:t?we(t,o.ref):o.ref}):n.Children.count(o)>1?n.Children.only(null):null});me.displayName="SlotClone";const yt=({children:e})=>n.createElement(n.Fragment,null,e);function wt(e){return n.isValidElement(e)&&e.type===yt}function Tt(e,t){const o={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?o[s]=(...l)=>{a(...l),r(...l)}:r&&(o[s]=r):s==="style"?o[s]={...r,...a}:s==="className"&&(o[s]=[r,a].filter(Boolean).join(" "))}return{...e,...o}}function ht(e){const t=e+"CollectionProvider",[o,s]=Ye(t),[r,a]=o(t,{collectionRef:{current:null},itemMap:new Map}),i=$=>{const{scope:E,children:b}=$,u=I.useRef(null),w=I.useRef(new Map).current;return I.createElement(r,{scope:E,itemMap:w,collectionRef:u},b)},l=e+"CollectionSlot",d=I.forwardRef(($,E)=>{const{scope:b,children:u}=$,w=a(l,b),v=j(E,w.collectionRef);return I.createElement(pe,{ref:v},u)}),c=e+"CollectionItemSlot",p="data-radix-collection-item",f=I.forwardRef(($,E)=>{const{scope:b,children:u,...w}=$,v=I.useRef(null),T=j(E,v),h=a(c,b);return I.useEffect(()=>(h.itemMap.set(v,{ref:v,...w}),()=>void h.itemMap.delete(v))),I.createElement(pe,{[p]:"",ref:T},u)});function g($){const E=a(e+"CollectionConsumer",$);return I.useCallback(()=>{const u=E.collectionRef.current;if(!u)return[];const w=Array.from(u.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((h,C)=>w.indexOf(h.ref.current)-w.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},g,s]}const Je=n.forwardRef((e,t)=>{const{children:o,...s}=e,r=n.Children.toArray(o),a=r.find(xt);if(a){const i=a.props.children,l=r.map(d=>d===a?n.Children.count(i)>1?n.Children.only(null):n.isValidElement(i)?i.props.children:null:d);return n.createElement(be,P({},s,{ref:t}),n.isValidElement(i)?n.cloneElement(i,void 0,l):null)}return n.createElement(be,P({},s,{ref:t}),o)});Je.displayName="Slot";const be=n.forwardRef((e,t)=>{const{children:o,...s}=e;return n.isValidElement(o)?n.cloneElement(o,{...Ct(s,o.props),ref:t?we(t,o.ref):o.ref}):n.Children.count(o)>1?n.Children.only(null):null});be.displayName="SlotClone";const gt=({children:e})=>n.createElement(n.Fragment,null,e);function xt(e){return n.isValidElement(e)&&e.type===gt}function Ct(e,t){const o={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?o[s]=(...l)=>{a(...l),r(...l)}:r&&(o[s]=r):s==="style"?o[s]={...r,...a}:s==="className"&&(o[s]=[r,a].filter(Boolean).join(" "))}return{...e,...o}}const Pt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],L=Pt.reduce((e,t)=>{const o=n.forwardRef((s,r)=>{const{asChild:a,...i}=s,l=a?Je:t;return n.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.createElement(l,P({},i,{ref:r}))});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function Ze(e,t){e&&ie.flushSync(()=>e.dispatchEvent(t))}function M(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...o)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...o)},[])}function St(e,t=globalThis==null?void 0:globalThis.document){const o=M(e);n.useEffect(()=>{const s=r=>{r.key==="Escape"&&o(r)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[o,t])}const ve="dismissableLayer.update",Rt="dismissableLayer.pointerDownOutside",At="dismissableLayer.focusOutside";let xe;const Ge=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nt=n.forwardRef((e,t)=>{var o;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...c}=e,p=n.useContext(Ge),[f,g]=n.useState(null),$=(o=f==null?void 0:f.ownerDocument)!==null&&o!==void 0?o:globalThis==null?void 0:globalThis.document,[,E]=n.useState({}),b=j(t,y=>g(y)),u=Array.from(p.layers),[w]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),v=u.indexOf(w),T=f?u.indexOf(f):-1,h=p.layersWithOutsidePointerEventsDisabled.size>0,C=T>=v,S=Dt(y=>{const _=y.target,H=[...p.branches].some(D=>D.contains(_));!C||H||(a==null||a(y),l==null||l(y),y.defaultPrevented||d==null||d())},$),N=Ot(y=>{const _=y.target;[...p.branches].some(D=>D.contains(_))||(i==null||i(y),l==null||l(y),y.defaultPrevented||d==null||d())},$);return St(y=>{T===p.layers.size-1&&(r==null||r(y),!y.defaultPrevented&&d&&(y.preventDefault(),d()))},$),n.useEffect(()=>{if(f)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(xe=$.body.style.pointerEvents,$.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),Ce(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&($.body.style.pointerEvents=xe)}},[f,$,s,p]),n.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),Ce())},[f,p]),n.useEffect(()=>{const y=()=>E({});return document.addEventListener(ve,y),()=>document.removeEventListener(ve,y)},[]),n.createElement(L.div,P({},c,{ref:b,style:{pointerEvents:h?C?"auto":"none":void 0,...e.style},onFocusCapture:A(e.onFocusCapture,N.onFocusCapture),onBlurCapture:A(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:A(e.onPointerDownCapture,S.onPointerDownCapture)}))}),_t=n.forwardRef((e,t)=>{const o=n.useContext(Ge),s=n.useRef(null),r=j(t,s);return n.useEffect(()=>{const a=s.current;if(a)return o.branches.add(a),()=>{o.branches.delete(a)}},[o.branches]),n.createElement(L.div,P({},e,{ref:r}))});function Dt(e,t=globalThis==null?void 0:globalThis.document){const o=M(e),s=n.useRef(!1),r=n.useRef(()=>{});return n.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){Qe(Rt,o,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,o]),{onPointerDownCapture:()=>s.current=!0}}function Ot(e,t=globalThis==null?void 0:globalThis.document){const o=M(e),s=n.useRef(!1);return n.useEffect(()=>{const r=a=>{a.target&&!s.current&&Qe(At,o,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,o]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ce(){const e=new CustomEvent(ve);document.dispatchEvent(e)}function Qe(e,t,o,{discrete:s}){const r=o.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});t&&r.addEventListener(e,t,{once:!0}),s?Ze(r,a):r.dispatchEvent(a)}const It=Nt,Lt=_t,Bt=n.forwardRef((e,t)=>{var o;const{container:s=globalThis==null||(o=globalThis.document)===null||o===void 0?void 0:o.body,...r}=e;return s?mt.createPortal(n.createElement(L.div,P({},r,{ref:t})),s):null}),$e=globalThis!=null&&globalThis.document?n.useLayoutEffect:()=>{};function Mt(e,t){return n.useReducer((o,s)=>{const r=t[o][s];return r??o},e)}const et=e=>{const{present:t,children:o}=e,s=Ft(t),r=typeof o=="function"?o({present:s.isPresent}):n.Children.only(o),a=j(s.ref,r.ref);return typeof o=="function"||s.isPresent?n.cloneElement(r,{ref:a}):null};et.displayName="Presence";function Ft(e){const[t,o]=n.useState(),s=n.useRef({}),r=n.useRef(e),a=n.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Mt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect(()=>{const c=ne(s.current);a.current=l==="mounted"?c:"none"},[l]),$e(()=>{const c=s.current,p=r.current;if(p!==e){const g=a.current,$=ne(c);e?d("MOUNT"):$==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(p&&g!==$?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,d]),$e(()=>{if(t){const c=f=>{const $=ne(s.current).includes(f.animationName);f.target===t&&$&&ie.flushSync(()=>d("ANIMATION_END"))},p=f=>{f.target===t&&(a.current=ne(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback(c=>{c&&(s.current=getComputedStyle(c)),o(c)},[])}}function ne(e){return(e==null?void 0:e.animationName)||"none"}function kt({prop:e,defaultProp:t,onChange:o=()=>{}}){const[s,r]=Vt({defaultProp:t,onChange:o}),a=e!==void 0,i=a?e:s,l=M(o),d=n.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&l(f)}else r(c)},[a,e,r,l]);return[i,d]}function Vt({defaultProp:e,onChange:t}){const o=n.useState(e),[s]=o,r=n.useRef(s),a=M(t);return n.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),o}const tt=n.forwardRef((e,t)=>n.createElement(L.span,P({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),nt="ToastProvider",[Te,jt,Ht]=ht("Toast"),[ot,An]=Ye("Toast",[Ht]),[Kt,ce]=ot(nt),st=e=>{const{__scopeToast:t,label:o="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:i}=e,[l,d]=n.useState(null),[c,p]=n.useState(0),f=n.useRef(!1),g=n.useRef(!1);return n.createElement(Te.Provider,{scope:t},n.createElement(Kt,{scope:t,label:o,duration:s,swipeDirection:r,swipeThreshold:a,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:n.useCallback(()=>p($=>$+1),[]),onToastRemove:n.useCallback(()=>p($=>$-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g},i))};st.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${nt}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Ut="ToastViewport",Wt=["F8"],Ee="toast.viewportPause",ye="toast.viewportResume",qt=n.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:s=Wt,label:r="Notifications ({hotkey})",...a}=e,i=ce(Ut,o),l=jt(o),d=n.useRef(null),c=n.useRef(null),p=n.useRef(null),f=n.useRef(null),g=j(t,f,i.onViewportChange),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=i.toastCount>0;n.useEffect(()=>{const u=w=>{var v;s.every(h=>w[h]||w.code===h)&&((v=f.current)===null||v===void 0||v.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[s]),n.useEffect(()=>{const u=d.current,w=f.current;if(E&&u&&w){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Ee);w.dispatchEvent(S),i.isClosePausedRef.current=!0}},T=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(ye);w.dispatchEvent(S),i.isClosePausedRef.current=!1}},h=S=>{!u.contains(S.relatedTarget)&&T()},C=()=>{u.contains(document.activeElement)||T()};return u.addEventListener("focusin",v),u.addEventListener("focusout",h),u.addEventListener("pointermove",v),u.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{u.removeEventListener("focusin",v),u.removeEventListener("focusout",h),u.removeEventListener("pointermove",v),u.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[E,i.isClosePausedRef]);const b=n.useCallback(({tabbingDirection:u})=>{const v=l().map(T=>{const h=T.ref.current,C=[h,...dn(h)];return u==="forwards"?C:C.reverse()});return(u==="forwards"?v.reverse():v).flat()},[l]);return n.useEffect(()=>{const u=f.current;if(u){const w=v=>{const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const y=document.activeElement,_=v.shiftKey;if(v.target===u&&_){var C;(C=c.current)===null||C===void 0||C.focus();return}const V=b({tabbingDirection:_?"backwards":"forwards"}),Q=V.findIndex(m=>m===y);if(fe(V.slice(Q+1)))v.preventDefault();else{var S,N;_?(S=c.current)===null||S===void 0||S.focus():(N=p.current)===null||N===void 0||N.focus()}}};return u.addEventListener("keydown",w),()=>u.removeEventListener("keydown",w)}},[l,b]),n.createElement(Lt,{ref:d,role:"region","aria-label":r.replace("{hotkey}",$),tabIndex:-1,style:{pointerEvents:E?void 0:"none"}},E&&n.createElement(Pe,{ref:c,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"forwards"});fe(u)}}),n.createElement(Te.Slot,{scope:o},n.createElement(L.ol,P({tabIndex:-1},a,{ref:g}))),E&&n.createElement(Pe,{ref:p,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"backwards"});fe(u)}}))}),Xt="ToastFocusProxy",Pe=n.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:s,...r}=e,a=ce(Xt,o);return n.createElement(tt,P({"aria-hidden":!0,tabIndex:0},r,{ref:t,style:{position:"fixed"},onFocus:i=>{var l;const d=i.relatedTarget;!((l=a.viewport)!==null&&l!==void 0&&l.contains(d))&&s()}}))}),le="Toast",zt="toast.swipeStart",Yt="toast.swipeMove",Jt="toast.swipeCancel",Zt="toast.swipeEnd",Gt=n.forwardRef((e,t)=>{const{forceMount:o,open:s,defaultOpen:r,onOpenChange:a,...i}=e,[l=!0,d]=kt({prop:s,defaultProp:r,onChange:a});return n.createElement(et,{present:o||l},n.createElement(rt,P({open:l},i,{ref:t,onClose:()=>d(!1),onPause:M(e.onPause),onResume:M(e.onResume),onSwipeStart:A(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:A(e.onSwipeMove,c=>{const{x:p,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:A(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:A(e.onSwipeEnd,c=>{const{x:p,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})))}),[Qt,en]=ot(le,{onClose(){}}),rt=n.forwardRef((e,t)=>{const{__scopeToast:o,type:s="foreground",duration:r,open:a,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:p,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:$,...E}=e,b=ce(le,o),[u,w]=n.useState(null),v=j(t,m=>w(m)),T=n.useRef(null),h=n.useRef(null),C=r||b.duration,S=n.useRef(0),N=n.useRef(C),y=n.useRef(0),{onToastAdd:_,onToastRemove:H}=b,D=M(()=>{var m;(u==null?void 0:u.contains(document.activeElement))&&((m=b.viewport)===null||m===void 0||m.focus()),i()}),V=n.useCallback(m=>{!m||m===1/0||(window.clearTimeout(y.current),S.current=new Date().getTime(),y.current=window.setTimeout(D,m))},[D]);n.useEffect(()=>{const m=b.viewport;if(m){const O=()=>{V(N.current),c==null||c()},F=()=>{const W=new Date().getTime()-S.current;N.current=N.current-W,window.clearTimeout(y.current),d==null||d()};return m.addEventListener(Ee,F),m.addEventListener(ye,O),()=>{m.removeEventListener(Ee,F),m.removeEventListener(ye,O)}}},[b.viewport,C,d,c,V]),n.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(C)},[a,C,b.isClosePausedRef,V]),n.useEffect(()=>(_(),()=>H()),[_,H]);const Q=n.useMemo(()=>u?ct(u):null,[u]);return b.viewport?n.createElement(n.Fragment,null,Q&&n.createElement(tn,{__scopeToast:o,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0},Q),n.createElement(Qt,{scope:o,onClose:D},ie.createPortal(n.createElement(Te.ItemSlot,{scope:o},n.createElement(It,{asChild:!0,onEscapeKeyDown:A(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||D(),b.isFocusedToastEscapeKeyDownRef.current=!1})},n.createElement(L.li,P({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection},E,{ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:A(e.onKeyDown,m=>{m.key==="Escape"&&(l==null||l(m.nativeEvent),m.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:A(e.onPointerDown,m=>{m.button===0&&(T.current={x:m.clientX,y:m.clientY})}),onPointerMove:A(e.onPointerMove,m=>{if(!T.current)return;const O=m.clientX-T.current.x,F=m.clientY-T.current.y,W=!!h.current,q=["left","right"].includes(b.swipeDirection),ee=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,dt=q?ee(0,O):0,ut=q?0:ee(0,F),ue=m.pointerType==="touch"?10:2,te={x:dt,y:ut},ge={originalEvent:m,delta:te};W?(h.current=te,oe(Yt,f,ge,{discrete:!1})):Se(te,b.swipeDirection,ue)?(h.current=te,oe(zt,p,ge,{discrete:!1}),m.target.setPointerCapture(m.pointerId)):(Math.abs(O)>ue||Math.abs(F)>ue)&&(T.current=null)}),onPointerUp:A(e.onPointerUp,m=>{const O=h.current,F=m.target;if(F.hasPointerCapture(m.pointerId)&&F.releasePointerCapture(m.pointerId),h.current=null,T.current=null,O){const W=m.currentTarget,q={originalEvent:m,delta:O};Se(O,b.swipeDirection,b.swipeThreshold)?oe(Zt,$,q,{discrete:!0}):oe(Jt,g,q,{discrete:!0}),W.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})))),b.viewport))):null});rt.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${le}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const tn=e=>{const{__scopeToast:t,children:o,...s}=e,r=ce(le,t),[a,i]=n.useState(!1),[l,d]=n.useState(!1);return cn(()=>i(!0)),n.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:n.createElement(Bt,{asChild:!0},n.createElement(tt,s,a&&n.createElement(n.Fragment,null,r.label," ",o)))},nn=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return n.createElement(L.div,P({},s,{ref:t}))}),on=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return n.createElement(L.div,P({},s,{ref:t}))}),sn="ToastAction",rn=n.forwardRef((e,t)=>{const{altText:o,...s}=e;return o?n.createElement(it,{altText:o,asChild:!0},n.createElement(at,P({},s,{ref:t}))):null});rn.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${sn}\``)}};const an="ToastClose",at=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e,r=en(an,o);return n.createElement(it,{asChild:!0},n.createElement(L.button,P({type:"button"},s,{ref:t,onClick:A(e.onClick,r.onClose)})))}),it=n.forwardRef((e,t)=>{const{__scopeToast:o,altText:s,...r}=e;return n.createElement(L.div,P({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0},r,{ref:t}))});function ct(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ln(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const i=s.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...ct(s))}}),t}function oe(e,t,o,{discrete:s}){const r=o.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&r.addEventListener(e,t,{once:!0}),s?Ze(r,a):r.dispatchEvent(a)}const Se=(e,t,o=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),a=s>r;return t==="left"||t==="right"?a&&s>o:!a&&r>o};function cn(e=()=>{}){const t=M(e);$e(()=>{let o=0,s=0;return o=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(s)}},[t])}function ln(e){return e.nodeType===e.ELEMENT_NODE}function dn(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function fe(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}const un=st,fn=qt,pn=Gt,mn=nn,bn=on,vn=at,de=({title:e,description:t,content:o,duration:s,position:r,closeButtonIcon:a,hideClose:i,className:l,testId:d,additionalProps:c={}})=>x.jsxs(pn,{className:ft("arm-toast",l),duration:s,"data-position":r,"data-testid":d,"aria-label":"Notification",...c,children:[e&&x.jsx(mn,{className:"arm-toast-title",children:e}),t&&x.jsx(bn,{className:"arm-toast-description",children:t}),a!==!1&&!i&&x.jsx(vn,{className:"arm-toast-close","aria-label":"Close",children:a}),o]});de.displayName="Toast";de.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{title:{required:!1,tsType:{name:"string"},description:"optional title for the toast popup (will be displayed above description & content)"},description:{required:!1,tsType:{name:"string"},description:"optional text content for the toast popup (will be displayed below title & above content)"},content:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"optional JSX content for the toast popup (will be displayed below title & description)"},duration:{required:!1,tsType:{name:"number"},description:"how long to show the toast in ms for (will default to global setting or failing that 5000)"},hideClose:{required:!1,tsType:{name:"boolean"},description:"hide the close button entirely?"},className:{required:!1,tsType:{name:"string"},description:"optional class name to add to the toast element"},testId:{required:!1,tsType:{name:"string"},description:"optional test id to add to the toast element"},additionalProps:{required:!1,tsType:{name:"ReactRefAttributes",raw:"React.RefAttributes<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},description:"optional additional props to spread onto the toast component",defaultValue:{value:"{}",computed:!1}},position:{required:!0,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-right' | 'bottom-left'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"}]},description:'where to position the toast, defaults to "bottom-right"'},closeButtonIcon:{required:!0,tsType:{name:"union",raw:"JSX.Element | false",elements:[{name:"JSX.Element"},{name:"literal",value:"false"}]},description:"the icon to use for the dialog close button"}}};const $n={addToast:()=>{throw new Error("Unable to dispatch toast, are you sure you've added either the <ArmstrongProvider> or <ToastProvider>?")}},lt=n.createContext($n),he=({children:e,duration:t,position:o,closeButtonIcon:s})=>{const[r,a]=n.useReducer((d,c)=>[...d,c],[]),i=bt({toastDuration:t,toastPosition:o,toastCloseButtonIcon:s}),l=i.toastPosition==="bottom-left"||i.toastPosition==="top-left"?"left":"right";return x.jsx(lt.Provider,{value:{addToast:a},children:x.jsxs(un,{swipeDirection:l,duration:i.toastDuration,children:[e,r.map((d,c)=>x.jsx(de,{duration:i.toastDuration,position:i.toastPosition,closeButtonIcon:i.toastCloseButtonIcon,...d},`${d.title}-${c}`)),i.globalPortalTo&&ie.createPortal(x.jsx(fn,{className:"arm-toast-viewport","data-position":i.toastPosition}),i.globalPortalTo)]})})};he.displayName="ToastProvider";he.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{duration:{required:!1,tsType:{name:"number"},description:"how long ot show toast messages for in ms, defaults to 5000"},position:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-right' | 'bottom-left'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"}]},description:'where to position the toast, defaults to "bottom-right"'},closeButtonIcon:{required:!1,tsType:{name:"union",raw:"JSX.Element | false",elements:[{name:"JSX.Element"},{name:"literal",value:"false"}]},description:"the icon to use for the dialog close button"}}};const En=()=>{const{addToast:e}=n.useContext(lt);return e},G=({children:e,config:t={}})=>x.jsx(vt,{...t,children:x.jsx(he,{children:e})});G.__docgenInfo={description:"",methods:[],displayName:"ArmstrongProvider",props:{config:{required:!1,tsType:{name:"IArmstrongConfig"},description:"A dictionary of optional global config, overrides the system defaults",defaultValue:{value:"{}",computed:!1}}}};const yn={title:"Modals/Toast",component:de,parameters:{docs:{description:{component:"metadata"}}}},k={args:{title:"Here is a toast!",description:"Here is the description for my toast"},decorators:[e=>x.jsx(G,{children:x.jsx(e,{})})],render:e=>{const t=En();return x.jsx(ze,{onClick:()=>t(e),children:"Send a toast"})}},K={...k,play:async({canvasElement:e,args:t})=>{const o=U(e).getByText("Send a toast");B.click(o);const s=await re(document.body,t.title??""),r=await re(document.body,t.description??"");R(s).toBeVisible(),R(r).toBeVisible();const a=await ae(document.body,"button",{name:"Close"});await se(()=>B.click(a)),await se(()=>Promise.all([R(s).not.toBeVisible(),R(r).not.toBeVisible()])),await B.click(o),await B.click(o);const i=await pt(document.body,t.title??"");await se(()=>R(i).toHaveLength(2))}},X={...k,args:{...k.args,duration:100},play:async({canvasElement:e,args:t})=>{const o=U(e).getByText("Send a toast");B.click(o);const s=await re(document.body,t.title??"");R(s).toBeVisible(),await se(()=>R(s).not.toBeVisible(),{timeout:400})}},z={...k,decorators:[e=>x.jsx(G,{config:{toastPosition:"top-left"},children:x.jsx(e,{})})],play:async({canvasElement:e})=>{const t=U(e).getByText("Send a toast");B.click(t);const o=await ae(document.body,"status",{name:"Notification"});R(o).toBeVisible(),R(o).toHaveAttribute("data-position","top-left")}},Y={...k,decorators:[e=>x.jsx(G,{config:{toastPosition:"top-right"},children:x.jsx(e,{})})],play:async({canvasElement:e})=>{const t=U(e).getByText("Send a toast");B.click(t);const o=await ae(document.body,"status",{name:"Notification"});R(o).toBeVisible(),R(o).toHaveAttribute("data-position","top-right")}},J={...k,decorators:[e=>x.jsx(G,{config:{toastPosition:"bottom-left"},children:x.jsx(e,{})})],play:async({canvasElement:e})=>{const t=U(e).getByText("Send a toast");B.click(t);const o=await ae(document.body,"status",{name:"Notification"});R(o).toBeVisible(),R(o).toHaveAttribute("data-position","bottom-left")}},Z={...k,args:{...k.args,content:x.jsx(ze,{children:"Custom button"})},play:async({canvasElement:e})=>{const t=U(e).getByText("Send a toast");B.click(t);const o=await re(document.body,"Custom button");R(o).toBeVisible()}};var Re,Ae,Ne,_e,De;K.parameters={...K.parameters,docs:{...(Re=K.parameters)==null?void 0:Re.docs,source:{originalSource:`{
  ...Template,
  play: async ({
    canvasElement,
    args
  }) => {
    // launch toast
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);

    // check title and description
    const title = await findByText(document.body, args.title ?? '');
    const description = await findByText(document.body, args.description ?? '');
    expect(title).toBeVisible();
    expect(description).toBeVisible();

    // check close
    const close = await findByRole(document.body, 'button', {
      name: 'Close'
    });
    await waitFor(() => userEvent.click(close));
    await waitFor(() => Promise.all([expect(title).not.toBeVisible(), expect(description).not.toBeVisible()]));

    // check multiple toasts
    await userEvent.click(button);
    await userEvent.click(button);
    const titles = await findAllByText(document.body, args.title ?? '');
    await waitFor(() => expect(titles).toHaveLength(2));
  }
}`,...(Ne=(Ae=K.parameters)==null?void 0:Ae.docs)==null?void 0:Ne.source},description:{story:"stories",...(De=(_e=K.parameters)==null?void 0:_e.docs)==null?void 0:De.description}}};var Oe,Ie,Le;X.parameters={...X.parameters,docs:{...(Oe=X.parameters)==null?void 0:Oe.docs,source:{originalSource:`{
  ...Template,
  args: {
    ...Template.args,
    duration: 100
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const title = await findByText(document.body, args.title ?? '');
    expect(title).toBeVisible();
    // check auto-dismiss after custom dismiss time of 100ms + 300ms for animation
    await waitFor(() => expect(title).not.toBeVisible(), {
      timeout: 400
    });
  }
}`,...(Le=(Ie=X.parameters)==null?void 0:Ie.docs)==null?void 0:Le.source}}};var Be,Me,Fe;z.parameters={...z.parameters,docs:{...(Be=z.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'top-left'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'top-left');
  }
}`,...(Fe=(Me=z.parameters)==null?void 0:Me.docs)==null?void 0:Fe.source}}};var ke,Ve,je;Y.parameters={...Y.parameters,docs:{...(ke=Y.parameters)==null?void 0:ke.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'top-right'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'top-right');
  }
}`,...(je=(Ve=Y.parameters)==null?void 0:Ve.docs)==null?void 0:je.source}}};var He,Ke,Ue;J.parameters={...J.parameters,docs:{...(He=J.parameters)==null?void 0:He.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'bottom-left'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'bottom-left');
  }
}`,...(Ue=(Ke=J.parameters)==null?void 0:Ke.docs)==null?void 0:Ue.source}}};var We,qe,Xe;Z.parameters={...Z.parameters,docs:{...(We=Z.parameters)==null?void 0:We.docs,source:{originalSource:`{
  ...Template,
  args: {
    ...Template.args,
    content: <Button>Custom button</Button>
  },
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const customButton = await findByText(document.body, 'Custom button');
    expect(customButton).toBeVisible();
  }
}`,...(Xe=(qe=Z.parameters)==null?void 0:qe.docs)==null?void 0:Xe.source}}};const wn=["Default","CustomDuration","TopLeft","TopRight","BottomLeft","CustomContent"],Nn=Object.freeze(Object.defineProperty({__proto__:null,BottomLeft:J,CustomContent:Z,CustomDuration:X,Default:K,TopLeft:z,TopRight:Y,__namedExportsOrder:wn,default:yn},Symbol.toStringTag,{value:"Module"}));export{K as D,de as T,Nn as t};
