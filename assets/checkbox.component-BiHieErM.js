import{j as k}from"./jsx-runtime-Cl2eCCBe.js";import{_ as E}from"./extends-CF3RwP-h.js";import{r as t}from"./index-Cqyox1Tj.js";import{$ as _}from"./index-CcyUcsxs.js";import{r as G}from"./index-QqxU7g3h.js";import{a as Q}from"./useDidUpdateEffect-igSykUWQ.js";import{c as w}from"./index-Dv9et24K.js";import{a as Y,L as ee}from"./label.component-CknXuhjY.js";import{S as te}from"./statusWrapper.component-DucYgjxK.js";import{V as ne}from"./validationErrors.component-CHN68oNP.js";import{u as oe}from"./config.context-B61qZkrf.js";function re(e,o){typeof e=="function"?e(o):e!=null&&(e.current=o)}function q(...e){return o=>e.forEach(n=>re(n,o))}function V(...e){return t.useCallback(q(...e),e)}function ae(e,o=[]){let n=[];function r(i,c){const s=t.createContext(c),l=n.length;n=[...n,c];function d(u){const{scope:f,children:h,...b}=u,y=(f==null?void 0:f[e][l])||s,v=t.useMemo(()=>b,Object.values(b));return t.createElement(y.Provider,{value:v},h)}function m(u,f){const h=(f==null?void 0:f[e][l])||s,b=t.useContext(h);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=n.map(c=>t.createContext(c));return function(s){const l=(s==null?void 0:s[e])||i;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[r,ie(a,...o)]}function ie(...e){const o=e[0];if(e.length===1)return o;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=r.reduce((s,{useScope:l,scopeName:d})=>{const u=l(i)[`__scope${d}`];return{...s,...u}},{});return t.useMemo(()=>({[`__scope${o.scopeName}`]:c}),[c])}};return n.scopeName=o.scopeName,n}function z(e){const o=t.useRef(e);return t.useEffect(()=>{o.current=e}),t.useMemo(()=>(...n)=>{var r;return(r=o.current)===null||r===void 0?void 0:r.call(o,...n)},[])}function se({prop:e,defaultProp:o,onChange:n=()=>{}}){const[r,a]=ce({defaultProp:o,onChange:n}),i=e!==void 0,c=i?e:r,s=z(n),l=t.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&s(u)}else a(d)},[i,e,a,s]);return[c,l]}function ce({defaultProp:e,onChange:o}){const n=t.useState(e),[r]=n,a=t.useRef(r),i=z(o);return t.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}function le(e){const o=t.useRef({value:e,previous:e});return t.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}const de=globalThis!=null&&globalThis.document?t.useLayoutEffect:()=>{};function ue(e){const[o,n]=t.useState(void 0);return de(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,s;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;c=d.inlineSize,s=d.blockSize}else c=e.offsetWidth,s=e.offsetHeight;n({width:c,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),o}const D=globalThis!=null&&globalThis.document?t.useLayoutEffect:()=>{};function fe(e,o){return t.useReducer((n,r)=>{const a=o[n][r];return a??n},e)}const U=e=>{const{present:o,children:n}=e,r=me(o),a=typeof n=="function"?n({present:r.isPresent}):t.Children.only(n),i=V(r.ref,a.ref);return typeof n=="function"||r.isPresent?t.cloneElement(a,{ref:i}):null};U.displayName="Presence";function me(e){const[o,n]=t.useState(),r=t.useRef({}),a=t.useRef(e),i=t.useRef("none"),c=e?"mounted":"unmounted",[s,l]=fe(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const d=T(r.current);i.current=s==="mounted"?d:"none"},[s]),D(()=>{const d=r.current,m=a.current;if(m!==e){const f=i.current,h=T(d);e?l("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(m&&f!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),D(()=>{if(o){const d=u=>{const h=T(r.current).includes(u.animationName);u.target===o&&h&&G.flushSync(()=>l("ANIMATION_END"))},m=u=>{u.target===o&&(i.current=T(r.current))};return o.addEventListener("animationstart",m),o.addEventListener("animationcancel",d),o.addEventListener("animationend",d),()=>{o.removeEventListener("animationstart",m),o.removeEventListener("animationcancel",d),o.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[o,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:t.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function T(e){return(e==null?void 0:e.animationName)||"none"}const B=t.forwardRef((e,o)=>{const{children:n,...r}=e,a=t.Children.toArray(n),i=a.find(he);if(i){const c=i.props.children,s=a.map(l=>l===i?t.Children.count(c)>1?t.Children.only(null):t.isValidElement(c)?c.props.children:null:l);return t.createElement(P,E({},r,{ref:o}),t.isValidElement(c)?t.cloneElement(c,void 0,s):null)}return t.createElement(P,E({},r,{ref:o}),n)});B.displayName="Slot";const P=t.forwardRef((e,o)=>{const{children:n,...r}=e;return t.isValidElement(n)?t.cloneElement(n,{...be(r,n.props),ref:o?q(o,n.ref):n.ref}):t.Children.count(n)>1?t.Children.only(null):null});P.displayName="SlotClone";const pe=({children:e})=>t.createElement(t.Fragment,null,e);function he(e){return t.isValidElement(e)&&e.type===pe}function be(e,o){const n={...o};for(const r in o){const a=e[r],i=o[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...s)=>{i(...s),a(...s)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}const $e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],L=$e.reduce((e,o)=>{const n=t.forwardRef((r,a)=>{const{asChild:i,...c}=r,s=i?B:o;return t.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.createElement(s,E({},c,{ref:a}))});return n.displayName=`Primitive.${o}`,{...e,[o]:n}},{}),j="Checkbox",[ve,Ve]=ae(j),[Ce,xe]=ve(j),ge=t.forwardRef((e,o)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:c,disabled:s,value:l="on",onCheckedChange:d,...m}=e,[u,f]=t.useState(null),h=V(o,p=>f(p)),b=t.useRef(!1),y=u?!!u.closest("form"):!0,[v=!1,N]=se({prop:a,defaultProp:i,onChange:d}),A=t.useRef(v);return t.useEffect(()=>{const p=u==null?void 0:u.form;if(p){const x=()=>N(A.current);return p.addEventListener("reset",x),()=>p.removeEventListener("reset",x)}},[u,N]),t.createElement(Ce,{scope:n,state:v,disabled:s},t.createElement(L.button,E({type:"button",role:"checkbox","aria-checked":g(v)?"mixed":v,"aria-required":c,"data-state":X(v),"data-disabled":s?"":void 0,disabled:s,value:l},m,{ref:h,onKeyDown:_(e.onKeyDown,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:_(e.onClick,p=>{N(x=>g(x)?!0:!x),y&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})})),y&&t.createElement(Ee,{control:u,bubbles:!b.current,name:r,value:l,checked:v,required:c,disabled:s,style:{transform:"translateX(-100%)"}}))}),ye="CheckboxIndicator",ke=t.forwardRef((e,o)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=xe(ye,n);return t.createElement(U,{present:r||g(i.state)||i.state===!0},t.createElement(L.span,E({"data-state":X(i.state),"data-disabled":i.disabled?"":void 0},a,{ref:o,style:{pointerEvents:"none",...e.style}})))}),Ee=e=>{const{control:o,checked:n,bubbles:r=!0,...a}=e,i=t.useRef(null),c=le(n),s=ue(o);return t.useEffect(()=>{const l=i.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&u){const f=new Event("click",{bubbles:r});l.indeterminate=g(n),u.call(l,g(n)?!1:n),l.dispatchEvent(f)}},[c,n,r]),t.createElement("input",E({type:"checkbox","aria-hidden":!0,defaultChecked:g(n)?!1:n},a,{tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function g(e){return e==="indeterminate"}function X(e){return g(e)?"indeterminate":e?"checked":"unchecked"}const Ne=ge,Se=ke,H=t.forwardRef(({bind:e,checked:o,customIndicator:n,className:r,customIndeterminateIndicator:a,disabled:i,onCheckedChange:c,label:s,labelClassName:l,labelId:d,scrollValidationErrorsIntoView:m,statusClassName:u,testId:f,validationErrorsClassName:h,validationErrorMessages:b,validationMode:y,displaySize:v,required:N,requiredIndicator:A,statusPosition:p,autoValidate:x,...O},J)=>{var R;const F=t.useId(),M=O.id??F,[S,I,C]=Y(e,{value:o,onChange:c,validationErrorMessages:b,validationMode:y,autoValidate:x}),$=oe({scrollValidationErrorsIntoView:m,checkboxCustomIndicator:n,checkboxCustomIndeterminateIndicator:a,requiredIndicator:A,inputStatusPosition:p,validationMode:C.validationMode,autoValidate:C.autoValidate,inputDisplaySize:v}),K=t.useCallback(Z=>{I==null||I(Z)},[I]);Q(()=>{$.autoValidate&&C.validate(),C.setTouched(!0)},[S]);const W=t.useMemo(()=>{switch(S){case"indeterminate":return $.checkboxCustomIndeterminateIndicator;default:return $.checkboxCustomIndicator}},[S,$.checkboxCustomIndicator,$.checkboxCustomIndeterminateIndicator]);return k.jsxs(te,{className:w(u,"arm-input-base"),validationMode:C.validationMode,errorIcon:C.validationErrorIcon,statusPosition:$.inputStatusPosition,children:[k.jsxs("div",{className:w("arm-checkbox-container",r),"data-disabled":!!i,"data-testid":f,"data-size":$.inputDisplaySize,...O,children:[k.jsx(Ne,{className:"arm-checkbox",disabled:i,id:M,checked:S??void 0,onCheckedChange:K,ref:J,children:k.jsx(Se,{className:"arm-checkbox-indicator",children:W})}),s&&k.jsx(ee,{className:w("arm-checkbox-label",l),"data-disabled":!!i,htmlFor:M,required:N,requiredIndicator:$.requiredIndicator,displaySize:$.inputDisplaySize,children:s})]}),!!((R=C.validationErrorMessages)!=null&&R.length)&&C.shouldShowValidationErrorMessage&&k.jsx(ne,{className:h,validationMode:$.validationMode,validationErrors:C.validationErrorMessages,scrollIntoView:$.scrollValidationErrorsIntoView})]})});H.displayName="Checkbox";H.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{bind:{required:!1,tsType:{name:"IBindingProps",elements:[{name:"TData"}],raw:"IBindingProps<TData>"},description:"(Optional) An IBindingProps<TData> object to bind the checkbox input to a form."},checked:{required:!1,tsType:{name:"TData"},description:"(Optional) A TData value representing the initial checked state of the checkbox. This can be true, false, or 'indeterminate'."},customIndeterminateIndicator:{required:!1,tsType:{name:"JSX.Element"},description:"(Optional) A custom JSX.Element for the indeterminate state indicator."},customIndicator:{required:!1,tsType:{name:"JSX.Element"},description:"(Optional) A custom JSX.Element for the checked indicator."},disabled:{required:!1,tsType:{name:"boolean"},description:"(Optional) A boolean flag to disable the checkbox input."},label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"(Optional) A React.ReactNode to display a label for the checkbox input."},labelClassName:{required:!1,tsType:{name:"string"},description:"(Optional) Class name for the label component"},labelId:{required:!1,tsType:{name:"string"},description:"(Optional) Id to use for the checkbox. Falls back to React ID if not provided"},onCheckedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue: TData) => void",signature:{arguments:[{type:{name:"TData"},name:"newValue"}],return:{name:"void"}}},description:"(Optional) A callback function (newValue: TData) => void to handle state when 'checked' is changed."},statusClassName:{required:!1,tsType:{name:"string"},description:"(Optional) Classname to use for the status wrapper"},testId:{required:!1,tsType:{name:"string"},description:"(Optional) A string to set a custom data-testid attribute for the checkbox container."},validationErrorsClassName:{required:!1,tsType:{name:"string"},description:"(Optional) Class name for the validation errors"},validationErrorMessages:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]}],raw:"ValidationMessage[]"},description:"(Optional) Can be a string or {key, element} key is necessary for animating in new messages"},scrollValidationErrorsIntoView:{required:!1,tsType:{name:"boolean"},description:"(Optional) A boolean flag to automatically scroll validation error messages into view."},displaySize:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large' | CustomString",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"`custom-${string}`"}]},description:"which size variant to use"},autoValidate:{required:!1,tsType:{name:"boolean"},description:"should the input validate automatically against the provided schema? Default: `true`"}},composes:["Omit","Pick"]};export{H as C};
