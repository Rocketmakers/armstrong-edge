import{j as h}from"./jsx-runtime-Cl2eCCBe.js";import{c as _,w as L,e as H}from"./classNames-TtGgGdEV.js";import{r as o,R as N}from"./index-Cqyox1Tj.js";import{_ as $}from"./extends-CF3RwP-h.js";import"./index-QqxU7g3h.js";import{c as q}from"./maths-co6UzHBn.js";import"./index-DGXSSr1l.js";function F(e,r=[]){let t=[];function n(s,l){const c=o.createContext(l),i=t.length;t=[...t,l];function d(p){const{scope:u,children:b,...f}=p,D=(u==null?void 0:u[e][i])||c,O=o.useMemo(()=>f,Object.values(f));return o.createElement(D.Provider,{value:O},b)}function y(p,u){const b=(u==null?void 0:u[e][i])||c,f=o.useContext(b);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,y]}const a=()=>{const s=t.map(l=>o.createContext(l));return function(c){const i=(c==null?void 0:c[e])||s;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:i}}),[c,i])}};return a.scopeName=e,[n,G(a,...r)]}function G(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const l=n.reduce((c,{useScope:i,scopeName:d})=>{const p=i(s)[`__scope${d}`];return{...c,...p}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return t.scopeName=r.scopeName,t}function k(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function U(...e){return r=>e.forEach(t=>k(t,r))}const B=o.forwardRef((e,r)=>{const{children:t,...n}=e,a=o.Children.toArray(t),s=a.find(Z);if(s){const l=s.props.children,c=a.map(i=>i===s?o.Children.count(l)>1?o.Children.only(null):o.isValidElement(l)?l.props.children:null:i);return o.createElement(E,$({},n,{ref:r}),o.isValidElement(l)?o.cloneElement(l,void 0,c):null)}return o.createElement(E,$({},n,{ref:r}),t)});B.displayName="Slot";const E=o.forwardRef((e,r)=>{const{children:t,...n}=e;return o.isValidElement(t)?o.cloneElement(t,{...z(n,t.props),ref:r?U(r,t.ref):t.ref}):o.Children.count(t)>1?o.Children.only(null):null});E.displayName="SlotClone";const X=({children:e})=>o.createElement(o.Fragment,null,e);function Z(e){return o.isValidElement(e)&&e.type===X}function z(e,r){const t={...r};for(const n in r){const a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...c)=>{s(...c),a(...c)}:a&&(t[n]=a):n==="style"?t[n]={...a,...s}:n==="className"&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}const J=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],I=J.reduce((e,r)=>{const t=o.forwardRef((n,a)=>{const{asChild:s,...l}=n,c=s?B:r;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(c,$({},l,{ref:a}))});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{}),M="Progress",x=100,[K,me]=F(M),[Q,W]=K(M),T=o.forwardRef((e,r)=>{const{__scopeProgress:t,value:n,max:a,getValueLabel:s=re,...l}=e,c=P(a)?a:x,i=j(n,c)?n:null,d=v(i)?s(i,c):void 0;return o.createElement(Q,{scope:t,value:i,max:c},o.createElement(I.div,$({"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":v(i)?i:void 0,"aria-valuetext":d,role:"progressbar","data-state":A(i,c),"data-value":i??void 0,"data-max":c},l,{ref:r})))});T.propTypes={max(e,r,t){const n=e[r],a=String(n);return n&&!P(n)?new Error(te(a,t)):null},value(e,r,t){const n=e[r],a=String(n),s=P(e.max)?e.max:x;return n!=null&&!j(n,s)?new Error(ne(a,t)):null}};const Y="ProgressIndicator",ee=o.forwardRef((e,r)=>{var t;const{__scopeProgress:n,...a}=e,s=W(Y,n);return o.createElement(I.div,$({"data-state":A(s.value,s.max),"data-value":(t=s.value)!==null&&t!==void 0?t:void 0,"data-max":s.max},a,{ref:r}))});function re(e,r){return`${Math.round(e/r*100)}%`}function A(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function v(e){return typeof e=="number"}function P(e){return v(e)&&!isNaN(e)&&e>0}function j(e,r){return v(e)&&!isNaN(e)&&e<=r&&e>=0}function te(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${x}\`.`}function ne(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${x} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const oe=T,ae=ee,g=o.forwardRef(({progress:e,className:r,indicatorClassName:t,...n},a)=>{const s={"--arm-progress-bar-value":`${q(e??0,0,100)}%`};return h.jsx(oe,{className:_(r,"arm-progress-bar"),value:e,ref:a,...n,children:h.jsx(ae,{className:_(t,"arm-progress-bar-indicator"),style:s})})});g.displayName="ProgressBar";g.__docgenInfo={description:"",methods:[],displayName:"ProgressBar",props:{progress:{required:!1,tsType:{name:"number"},description:"The content to display in the tooltip"},indicatorClassName:{required:!1,tsType:{name:"string"},description:"Optional class name for the progress indicator element"}}};const $e={title:"Components/ProgressBar",component:g,parameters:{docs:{description:{component:"metadata"}}}},se={render:e=>{const[r,t]=N.useState(0);return N.useEffect(()=>{const n=setInterval(()=>{t(a=>a>=100?(clearInterval(n),100):a+1)},50);return()=>clearInterval(n)},[]),h.jsx(g,{progress:r,...e})}},m={...se,play:async({canvasElement:e})=>{const r=L(e).getByRole("progressbar");H(r).toBeVisible()}};var C,S,V,w,R;m.parameters={...m.parameters,docs:{...(C=m.parameters)==null?void 0:C.docs,source:{originalSource:`{
  ...Template,
  play: async ({
    canvasElement
  }) => {
    const progress = within(canvasElement).getByRole('progressbar');
    expect(progress).toBeVisible();
  }
}`,...(V=(S=m.parameters)==null?void 0:S.docs)==null?void 0:V.source},description:{story:"stories",...(R=(w=m.parameters)==null?void 0:w.docs)==null?void 0:R.description}}};const ve=["Default"];export{m as Default,ve as __namedExportsOrder,$e as default};
