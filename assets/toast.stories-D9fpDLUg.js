import{j as h}from"./jsx-runtime-Cl2eCCBe.js";import{c as wt,w as V,u as N,b as ie,e as S,d as ce,a as ae,g as he}from"./index-Dv9et24K.js";import{_ as P}from"./extends-CF3RwP-h.js";import{r as o,R as B}from"./index-Cqyox1Tj.js";import{r as le,$ as ht}from"./index-QqxU7g3h.js";import{$ as A}from"./index-CcyUcsxs.js";import{u as gt,A as xt}from"./config.context-B61qZkrf.js";import{B as ot}from"./button.component-BSUqeTdM.js";function Ct(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ge(...e){return t=>e.forEach(n=>Ct(n,t))}function K(...e){return o.useCallback(ge(...e),e)}function st(e,t=[]){let n=[];function s(a,i){const l=o.createContext(i),d=n.length;n=[...n,i];function c(f){const{scope:g,children:b,...$}=f,m=(g==null?void 0:g[e][d])||l,u=o.useMemo(()=>$,Object.values($));return o.createElement(m.Provider,{value:u},b)}function p(f,g){const b=(g==null?void 0:g[e][d])||l,$=o.useContext(b);if($)return $;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,p]}const r=()=>{const a=n.map(i=>o.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return o.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return r.scopeName=e,[s,Pt(r,...t)]}function Pt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const f=d(a)[`__scope${c}`];return{...l,...f}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const be=o.forwardRef((e,t)=>{const{children:n,...s}=e,r=o.Children.toArray(n),a=r.find(Rt);if(a){const i=a.props.children,l=r.map(d=>d===a?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:d);return o.createElement(ve,P({},s,{ref:t}),o.isValidElement(i)?o.cloneElement(i,void 0,l):null)}return o.createElement(ve,P({},s,{ref:t}),n)});be.displayName="Slot";const ve=o.forwardRef((e,t)=>{const{children:n,...s}=e;return o.isValidElement(n)?o.cloneElement(n,{...At(s,n.props),ref:t?ge(t,n.ref):n.ref}):o.Children.count(n)>1?o.Children.only(null):null});ve.displayName="SlotClone";const St=({children:e})=>o.createElement(o.Fragment,null,e);function Rt(e){return o.isValidElement(e)&&e.type===St}function At(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{a(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function Nt(e){const t=e+"CollectionProvider",[n,s]=st(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=b=>{const{scope:$,children:m}=b,u=B.useRef(null),E=B.useRef(new Map).current;return B.createElement(r,{scope:$,itemMap:E,collectionRef:u},m)},l=e+"CollectionSlot",d=B.forwardRef((b,$)=>{const{scope:m,children:u}=b,E=a(l,m),y=K($,E.collectionRef);return B.createElement(be,{ref:y},u)}),c=e+"CollectionItemSlot",p="data-radix-collection-item",f=B.forwardRef((b,$)=>{const{scope:m,children:u,...E}=b,y=B.useRef(null),T=K($,y),x=a(c,m);return B.useEffect(()=>(x.itemMap.set(y,{ref:y,...E}),()=>void x.itemMap.delete(y))),B.createElement(be,{[p]:"",ref:T},u)});function g(b){const $=a(e+"CollectionConsumer",b);return B.useCallback(()=>{const u=$.collectionRef.current;if(!u)return[];const E=Array.from(u.querySelectorAll(`[${p}]`));return Array.from($.itemMap.values()).sort((x,C)=>E.indexOf(x.ref.current)-E.indexOf(C.ref.current))},[$.collectionRef,$.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},g,s]}const rt=o.forwardRef((e,t)=>{const{children:n,...s}=e,r=o.Children.toArray(n),a=r.find(_t);if(a){const i=a.props.children,l=r.map(d=>d===a?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:d);return o.createElement(ye,P({},s,{ref:t}),o.isValidElement(i)?o.cloneElement(i,void 0,l):null)}return o.createElement(ye,P({},s,{ref:t}),n)});rt.displayName="Slot";const ye=o.forwardRef((e,t)=>{const{children:n,...s}=e;return o.isValidElement(n)?o.cloneElement(n,{...It(s,n.props),ref:t?ge(t,n.ref):n.ref}):o.Children.count(n)>1?o.Children.only(null):null});ye.displayName="SlotClone";const Dt=({children:e})=>o.createElement(o.Fragment,null,e);function _t(e){return o.isValidElement(e)&&e.type===Dt}function It(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{a(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}const Ot=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],L=Ot.reduce((e,t)=>{const n=o.forwardRef((s,r)=>{const{asChild:a,...i}=s,l=a?rt:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(l,P({},i,{ref:r}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function at(e,t){e&&le.flushSync(()=>e.dispatchEvent(t))}function M(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...n)},[])}function Bt(e,t=globalThis==null?void 0:globalThis.document){const n=M(e);o.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[n,t])}const $e="dismissableLayer.update",kt="dismissableLayer.pointerDownOutside",Lt="dismissableLayer.focusOutside";let Se;const it=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mt=o.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...c}=e,p=o.useContext(it),[f,g]=o.useState(null),b=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,$]=o.useState({}),m=K(t,w=>g(w)),u=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),y=u.indexOf(E),T=f?u.indexOf(f):-1,x=p.layersWithOutsidePointerEventsDisabled.size>0,C=T>=y,R=Vt(w=>{const _=w.target,U=[...p.branches].some(I=>I.contains(_));!C||U||(a==null||a(w),l==null||l(w),w.defaultPrevented||d==null||d())},b),D=jt(w=>{const _=w.target;[...p.branches].some(I=>I.contains(_))||(i==null||i(w),l==null||l(w),w.defaultPrevented||d==null||d())},b);return Bt(w=>{T===p.layers.size-1&&(r==null||r(w),!w.defaultPrevented&&d&&(w.preventDefault(),d()))},b),o.useEffect(()=>{if(f)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Se=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),Re(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Se)}},[f,b,s,p]),o.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),Re())},[f,p]),o.useEffect(()=>{const w=()=>$({});return document.addEventListener($e,w),()=>document.removeEventListener($e,w)},[]),o.createElement(L.div,P({},c,{ref:m,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:A(e.onFocusCapture,D.onFocusCapture),onBlurCapture:A(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:A(e.onPointerDownCapture,R.onPointerDownCapture)}))}),Ft=o.forwardRef((e,t)=>{const n=o.useContext(it),s=o.useRef(null),r=K(t,s);return o.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.createElement(L.div,P({},e,{ref:r}))});function Vt(e,t=globalThis==null?void 0:globalThis.document){const n=M(e),s=o.useRef(!1),r=o.useRef(()=>{});return o.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){ct(kt,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function jt(e,t=globalThis==null?void 0:globalThis.document){const n=M(e),s=o.useRef(!1);return o.useEffect(()=>{const r=a=>{a.target&&!s.current&&ct(Lt,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Re(){const e=new CustomEvent($e);document.dispatchEvent(e)}function ct(e,t,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?at(r,a):r.dispatchEvent(a)}const Kt=Mt,Ht=Ft,Ut=o.forwardRef((e,t)=>{var n;const{container:s=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...r}=e;return s?ht.createPortal(o.createElement(L.div,P({},r,{ref:t})),s):null}),Ee=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{};function Wt(e,t){return o.useReducer((n,s)=>{const r=t[n][s];return r??n},e)}const lt=e=>{const{present:t,children:n}=e,s=qt(t),r=typeof n=="function"?n({present:s.isPresent}):o.Children.only(n),a=K(s.ref,r.ref);return typeof n=="function"||s.isPresent?o.cloneElement(r,{ref:a}):null};lt.displayName="Presence";function qt(e){const[t,n]=o.useState(),s=o.useRef({}),r=o.useRef(e),a=o.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Wt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const c=se(s.current);a.current=l==="mounted"?c:"none"},[l]),Ee(()=>{const c=s.current,p=r.current;if(p!==e){const g=a.current,b=se(c);e?d("MOUNT"):b==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(p&&g!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,d]),Ee(()=>{if(t){const c=f=>{const b=se(s.current).includes(f.animationName);f.target===t&&b&&le.flushSync(()=>d("ANIMATION_END"))},p=f=>{f.target===t&&(a.current=se(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:o.useCallback(c=>{c&&(s.current=getComputedStyle(c)),n(c)},[])}}function se(e){return(e==null?void 0:e.animationName)||"none"}function Xt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=zt({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:s,l=M(n),d=o.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&l(f)}else r(c)},[a,e,r,l]);return[i,d]}function zt({defaultProp:e,onChange:t}){const n=o.useState(e),[s]=n,r=o.useRef(s),a=M(t);return o.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}const dt=o.forwardRef((e,t)=>o.createElement(L.span,P({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ut="ToastProvider",[xe,Yt,Jt]=Nt("Toast"),[ft,Ln]=st("Toast",[Jt]),[Zt,de]=ft(ut),pt=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:i}=e,[l,d]=o.useState(null),[c,p]=o.useState(0),f=o.useRef(!1),g=o.useRef(!1);return o.createElement(xe.Provider,{scope:t},o.createElement(Zt,{scope:t,label:n,duration:s,swipeDirection:r,swipeThreshold:a,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:o.useCallback(()=>p(b=>b+1),[]),onToastRemove:o.useCallback(()=>p(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g},i))};pt.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${ut}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Gt="ToastViewport",Qt=["F8"],Te="toast.viewportPause",we="toast.viewportResume",en=o.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=Qt,label:r="Notifications ({hotkey})",...a}=e,i=de(Gt,n),l=Yt(n),d=o.useRef(null),c=o.useRef(null),p=o.useRef(null),f=o.useRef(null),g=K(t,f,i.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=i.toastCount>0;o.useEffect(()=>{const u=E=>{var y;s.every(x=>E[x]||E.code===x)&&((y=f.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[s]),o.useEffect(()=>{const u=d.current,E=f.current;if($&&u&&E){const y=()=>{if(!i.isClosePausedRef.current){const R=new CustomEvent(Te);E.dispatchEvent(R),i.isClosePausedRef.current=!0}},T=()=>{if(i.isClosePausedRef.current){const R=new CustomEvent(we);E.dispatchEvent(R),i.isClosePausedRef.current=!1}},x=R=>{!u.contains(R.relatedTarget)&&T()},C=()=>{u.contains(document.activeElement)||T()};return u.addEventListener("focusin",y),u.addEventListener("focusout",x),u.addEventListener("pointermove",y),u.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{u.removeEventListener("focusin",y),u.removeEventListener("focusout",x),u.removeEventListener("pointermove",y),u.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[$,i.isClosePausedRef]);const m=o.useCallback(({tabbingDirection:u})=>{const y=l().map(T=>{const x=T.ref.current,C=[x,...$n(x)];return u==="forwards"?C:C.reverse()});return(u==="forwards"?y.reverse():y).flat()},[l]);return o.useEffect(()=>{const u=f.current;if(u){const E=y=>{const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const w=document.activeElement,_=y.shiftKey;if(y.target===u&&_){var C;(C=c.current)===null||C===void 0||C.focus();return}const j=m({tabbingDirection:_?"backwards":"forwards"}),te=j.findIndex(v=>v===w);if(me(j.slice(te+1)))y.preventDefault();else{var R,D;_?(R=c.current)===null||R===void 0||R.focus():(D=p.current)===null||D===void 0||D.focus()}}};return u.addEventListener("keydown",E),()=>u.removeEventListener("keydown",E)}},[l,m]),o.createElement(Ht,{ref:d,role:"region","aria-label":r.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:$?void 0:"none"}},$&&o.createElement(Ae,{ref:c,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"forwards"});me(u)}}),o.createElement(xe.Slot,{scope:n},o.createElement(L.ol,P({tabIndex:-1},a,{ref:g}))),$&&o.createElement(Ae,{ref:p,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"backwards"});me(u)}}))}),tn="ToastFocusProxy",Ae=o.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=e,a=de(tn,n);return o.createElement(dt,P({"aria-hidden":!0,tabIndex:0},r,{ref:t,style:{position:"fixed"},onFocus:i=>{var l;const d=i.relatedTarget;!((l=a.viewport)!==null&&l!==void 0&&l.contains(d))&&s()}}))}),ue="Toast",nn="toast.swipeStart",on="toast.swipeMove",sn="toast.swipeCancel",rn="toast.swipeEnd",an=o.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:a,...i}=e,[l=!0,d]=Xt({prop:s,defaultProp:r,onChange:a});return o.createElement(lt,{present:n||l},o.createElement(mt,P({open:l},i,{ref:t,onClose:()=>d(!1),onPause:M(e.onPause),onResume:M(e.onResume),onSwipeStart:A(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:A(e.onSwipeMove,c=>{const{x:p,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:A(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:A(e.onSwipeEnd,c=>{const{x:p,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})))}),[cn,ln]=ft(ue,{onClose(){}}),mt=o.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:a,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:p,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:b,...$}=e,m=de(ue,n),[u,E]=o.useState(null),y=K(t,v=>E(v)),T=o.useRef(null),x=o.useRef(null),C=r||m.duration,R=o.useRef(0),D=o.useRef(C),w=o.useRef(0),{onToastAdd:_,onToastRemove:U}=m,I=M(()=>{var v;(u==null?void 0:u.contains(document.activeElement))&&((v=m.viewport)===null||v===void 0||v.focus()),i()}),j=o.useCallback(v=>{!v||v===1/0||(window.clearTimeout(w.current),R.current=new Date().getTime(),w.current=window.setTimeout(I,v))},[I]);o.useEffect(()=>{const v=m.viewport;if(v){const O=()=>{j(D.current),c==null||c()},F=()=>{const q=new Date().getTime()-R.current;D.current=D.current-q,window.clearTimeout(w.current),d==null||d()};return v.addEventListener(Te,F),v.addEventListener(we,O),()=>{v.removeEventListener(Te,F),v.removeEventListener(we,O)}}},[m.viewport,C,d,c,j]),o.useEffect(()=>{a&&!m.isClosePausedRef.current&&j(C)},[a,C,m.isClosePausedRef,j]),o.useEffect(()=>(_(),()=>U()),[_,U]);const te=o.useMemo(()=>u?yt(u):null,[u]);return m.viewport?o.createElement(o.Fragment,null,te&&o.createElement(dn,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0},te),o.createElement(cn,{scope:n,onClose:I},le.createPortal(o.createElement(xe.ItemSlot,{scope:n},o.createElement(Kt,{asChild:!0,onEscapeKeyDown:A(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1})},o.createElement(L.li,P({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection},$,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:A(e.onKeyDown,v=>{v.key==="Escape"&&(l==null||l(v.nativeEvent),v.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:A(e.onPointerDown,v=>{v.button===0&&(T.current={x:v.clientX,y:v.clientY})}),onPointerMove:A(e.onPointerMove,v=>{if(!T.current)return;const O=v.clientX-T.current.x,F=v.clientY-T.current.y,q=!!x.current,X=["left","right"].includes(m.swipeDirection),ne=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Et=X?ne(0,O):0,Tt=X?0:ne(0,F),pe=v.pointerType==="touch"?10:2,oe={x:Et,y:Tt},Pe={originalEvent:v,delta:oe};q?(x.current=oe,re(on,f,Pe,{discrete:!1})):Ne(oe,m.swipeDirection,pe)?(x.current=oe,re(nn,p,Pe,{discrete:!1}),v.target.setPointerCapture(v.pointerId)):(Math.abs(O)>pe||Math.abs(F)>pe)&&(T.current=null)}),onPointerUp:A(e.onPointerUp,v=>{const O=x.current,F=v.target;if(F.hasPointerCapture(v.pointerId)&&F.releasePointerCapture(v.pointerId),x.current=null,T.current=null,O){const q=v.currentTarget,X={originalEvent:v,delta:O};Ne(O,m.swipeDirection,m.swipeThreshold)?re(rn,b,X,{discrete:!0}):re(sn,g,X,{discrete:!0}),q.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})))),m.viewport))):null});mt.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${ue}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const dn=e=>{const{__scopeToast:t,children:n,...s}=e,r=de(ue,t),[a,i]=o.useState(!1),[l,d]=o.useState(!1);return vn(()=>i(!0)),o.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:o.createElement(Ut,{asChild:!0},o.createElement(dt,s,a&&o.createElement(o.Fragment,null,r.label," ",n)))},un=o.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.createElement(L.div,P({},s,{ref:t}))}),fn=o.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.createElement(L.div,P({},s,{ref:t}))}),pn="ToastAction",mn=o.forwardRef((e,t)=>{const{altText:n,...s}=e;return n?o.createElement(vt,{altText:n,asChild:!0},o.createElement(bt,P({},s,{ref:t}))):null});mn.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${pn}\``)}};const bn="ToastClose",bt=o.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,r=ln(bn,n);return o.createElement(vt,{asChild:!0},o.createElement(L.button,P({type:"button"},s,{ref:t,onClick:A(e.onClick,r.onClose)})))}),vt=o.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...r}=e;return o.createElement(L.div,P({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0},r,{ref:t}))});function yt(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),yn(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const i=s.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...yt(s))}}),t}function re(e,t,n,{discrete:s}){const r=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?at(r,a):r.dispatchEvent(a)}const Ne=(e,t,n=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),a=s>r;return t==="left"||t==="right"?a&&s>n:!a&&r>n};function vn(e=()=>{}){const t=M(e);Ee(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function yn(e){return e.nodeType===e.ELEMENT_NODE}function $n(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function me(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const En=pt,Tn=en,wn=an,hn=un,gn=fn,xn=bt,fe=({title:e,description:t,content:n,duration:s,position:r,closeButtonIcon:a,hideClose:i,className:l,testId:d,onExit:c,additionalProps:p={}})=>h.jsxs(wn,{className:wt("arm-toast",l),duration:s,"data-position":r,"data-testid":d,"aria-label":"Notification",onOpenChange:f=>{!f&&c&&c()},...p,children:[e&&h.jsx(hn,{className:"arm-toast-title",children:e}),t&&h.jsx(gn,{className:"arm-toast-description",children:t}),a!==!1&&!i&&h.jsx(xn,{className:"arm-toast-close","aria-label":"Close",children:a}),n]});fe.displayName="Toast";fe.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{title:{required:!1,tsType:{name:"string"},description:"optional title for the toast popup (will be displayed above description & content)"},description:{required:!1,tsType:{name:"string"},description:"optional text content for the toast popup (will be displayed below title & above content)"},content:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"optional JSX content for the toast popup (will be displayed below title & description)"},duration:{required:!1,tsType:{name:"number"},description:"how long to show the toast in ms for (will default to global setting or failing that 5000)"},hideClose:{required:!1,tsType:{name:"boolean"},description:"hide the close button entirely?"},className:{required:!1,tsType:{name:"string"},description:"optional class name to add to the toast element"},testId:{required:!1,tsType:{name:"string"},description:"optional test id to add to the toast element"},additionalProps:{required:!1,tsType:{name:"ReactRefAttributes",raw:"React.RefAttributes<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},description:"optional additional props to spread onto the toast component",defaultValue:{value:"{}",computed:!1}},position:{required:!0,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-right' | 'bottom-left'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"}]},description:'where to position the toast, defaults to "bottom-right"'},closeButtonIcon:{required:!0,tsType:{name:"union",raw:"JSX.Element | false",elements:[{name:"JSX.Element"},{name:"literal",value:"false"}]},description:"the icon to use for the dialog close button"},onExit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"called when the toast has left the screen"}}};const Cn={addToast:()=>{throw new Error("Unable to dispatch toast, are you sure you've added either the <ArmstrongProvider> or <ToastProvider>?")}},$t=o.createContext(Cn),Ce=({children:e,duration:t,position:n,closeButtonIcon:s,displayMode:r,ignorePredicate:a})=>{const i=gt({toastDuration:t,toastPosition:n,toastCloseButtonIcon:s,toastDisplayMode:r,toastIgnorePredicate:a}),l=o.useRef(1),[d,c]=o.useState([]),p=i.toastPosition==="bottom-left"||i.toastPosition==="top-left"?"left":"right",f=o.useCallback(b=>{var u;if((u=i.toastIgnorePredicate)!=null&&u.call(i,d.filter(E=>!E.exited).map(({key:E,exited:y,...T})=>T),b))return;const $=`toast-${l.current}`;l.current+=1;const m={...b,key:$,exited:!1};c(E=>i.toastDisplayMode==="add"?[...E,m]:[m])},[i,d]),g=o.useCallback(b=>{c($=>$.map(m=>m.key===b?{...m,exited:!0}:m))},[]);return h.jsx($t.Provider,{value:{addToast:f},children:h.jsxs(En,{swipeDirection:p,duration:i.toastDuration,children:[e,d.map(({key:b,...$})=>h.jsx(fe,{duration:i.toastDuration,position:i.toastPosition,closeButtonIcon:i.toastCloseButtonIcon,onExit:()=>g(b),...$},b)),i.globalPortalTo&&le.createPortal(h.jsx(Tn,{className:"arm-toast-viewport","data-position":i.toastPosition}),i.globalPortalTo)]})})};Ce.displayName="ToastProvider";Ce.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{duration:{required:!1,tsType:{name:"number"},description:"how long ot show toast messages for in ms, defaults to 5000"},position:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-right' | 'bottom-left'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"}]},description:'where to position the toast, defaults to "bottom-right"'},closeButtonIcon:{required:!1,tsType:{name:"union",raw:"JSX.Element | false",elements:[{name:"JSX.Element"},{name:"literal",value:"false"}]},description:"the icon to use for the dialog close button"},displayMode:{required:!1,tsType:{name:"union",raw:"'add' | 'replace'",elements:[{name:"literal",value:"'add'"},{name:"literal",value:"'replace'"}]},description:"whether to add toasts to a stack or display one at a time"},ignorePredicate:{required:!1,tsType:{name:"signature",type:"function",raw:"(existingToasts: IToast[], incomingToast: IToast) => boolean",signature:{arguments:[{type:{name:"Array",elements:[{name:"IToast"}],raw:"IToast[]"},name:"existingToasts"},{type:{name:"IToast"},name:"incomingToast"}],return:{name:"boolean"}}},description:"ignore toasts if an existing toast matches this predicate"}}};const Pn=()=>{const{addToast:e}=o.useContext($t);return e},H=({children:e,config:t={}})=>h.jsx(xt,{...t,children:h.jsx(Ce,{children:e})});H.__docgenInfo={description:"",methods:[],displayName:"ArmstrongProvider",props:{config:{required:!1,tsType:{name:"IArmstrongConfig"},description:"A dictionary of optional global config, overrides the system defaults",defaultValue:{value:"{}",computed:!1}}}};const Sn={title:"Modals/Toast",component:fe,parameters:{docs:{description:{component:"metadata"}}}},k={args:{title:"Here is a toast!",description:"Here is the description for my toast"},decorators:[e=>h.jsx(H,{children:h.jsx(e,{})})],render:e=>{const t=Pn();return h.jsx(ot,{onClick:()=>t(e),children:"Send a toast"})}},W={...k,play:async({canvasElement:e,args:t})=>{const n=V(e).getByText("Send a toast");N.click(n);const s=await ie(document.body,t.title??""),r=await ie(document.body,t.description??"");S(s).toBeVisible(),S(r).toBeVisible();const a=await ce(document.body,"button",{name:"Close"});await ae(()=>N.click(a)),await ae(()=>Promise.all([S(s).not.toBeVisible(),S(r).not.toBeVisible()])),await N.click(n),await N.click(n);const i=await he(document.body,t.title??"");await ae(()=>S(i).toHaveLength(2))}},z={...k,args:{...k.args,duration:100},play:async({canvasElement:e,args:t})=>{const n=V(e).getByText("Send a toast");N.click(n);const s=await ie(document.body,t.title??"");S(s).toBeVisible(),await ae(()=>S(s).not.toBeVisible(),{timeout:400})}},Y={...k,decorators:[e=>h.jsx(H,{config:{toastPosition:"top-left"},children:h.jsx(e,{})})],play:async({canvasElement:e})=>{const t=V(e).getByText("Send a toast");N.click(t);const n=await ce(document.body,"status",{name:"Notification"});S(n).toBeVisible(),S(n).toHaveAttribute("data-position","top-left")}},J={...k,decorators:[e=>h.jsx(H,{config:{toastPosition:"top-right"},children:h.jsx(e,{})})],play:async({canvasElement:e})=>{const t=V(e).getByText("Send a toast");N.click(t);const n=await ce(document.body,"status",{name:"Notification"});S(n).toBeVisible(),S(n).toHaveAttribute("data-position","top-right")}},Z={...k,decorators:[e=>h.jsx(H,{config:{toastPosition:"bottom-left"},children:h.jsx(e,{})})],play:async({canvasElement:e})=>{const t=V(e).getByText("Send a toast");N.click(t);const n=await ce(document.body,"status",{name:"Notification"});S(n).toBeVisible(),S(n).toHaveAttribute("data-position","bottom-left")}},G={...k,args:{...k.args,content:h.jsx(ot,{children:"Custom button"})},play:async({canvasElement:e})=>{const t=V(e).getByText("Send a toast");N.click(t);const n=await ie(document.body,"Custom button");S(n).toBeVisible()}},Q={...k,decorators:[e=>h.jsx(H,{config:{toastIgnorePredicate:(t,n)=>t.some(s=>s.title===n.title&&s.description===n.description)},children:h.jsx(e,{})})],play:async({canvasElement:e,args:t})=>{const n=V(e).getByText("Send a toast");await N.click(n),await N.click(n);const s=await he(document.body,t.title??"");S(s.length).toBe(1)}},ee={...k,decorators:[e=>h.jsx(H,{config:{toastDisplayMode:"replace"},children:h.jsx(e,{})})],play:async({canvasElement:e,args:t})=>{const n=V(e).getByText("Send a toast");await N.click(n),await N.click(n);const s=await he(document.body,t.title??"");S(s.length).toBe(1)}};var De,_e,Ie,Oe,Be;W.parameters={...W.parameters,docs:{...(De=W.parameters)==null?void 0:De.docs,source:{originalSource:`{
  ...Template,
  play: async ({
    canvasElement,
    args
  }) => {
    // launch toast
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);

    // check title and description
    const title = await findByText(document.body, args.title ?? '');
    const description = await findByText(document.body, args.description ?? '');
    expect(title).toBeVisible();
    expect(description).toBeVisible();

    // check close
    const close = await findByRole(document.body, 'button', {
      name: 'Close'
    });
    await waitFor(() => userEvent.click(close));
    await waitFor(() => Promise.all([expect(title).not.toBeVisible(), expect(description).not.toBeVisible()]));

    // check multiple toasts
    await userEvent.click(button);
    await userEvent.click(button);
    const titles = await findAllByText(document.body, args.title ?? '');
    await waitFor(() => expect(titles).toHaveLength(2));
  }
}`,...(Ie=(_e=W.parameters)==null?void 0:_e.docs)==null?void 0:Ie.source},description:{story:"stories",...(Be=(Oe=W.parameters)==null?void 0:Oe.docs)==null?void 0:Be.description}}};var ke,Le,Me;z.parameters={...z.parameters,docs:{...(ke=z.parameters)==null?void 0:ke.docs,source:{originalSource:`{
  ...Template,
  args: {
    ...Template.args,
    duration: 100
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const title = await findByText(document.body, args.title ?? '');
    expect(title).toBeVisible();
    // check auto-dismiss after custom dismiss time of 100ms + 300ms for animation
    await waitFor(() => expect(title).not.toBeVisible(), {
      timeout: 400
    });
  }
}`,...(Me=(Le=z.parameters)==null?void 0:Le.docs)==null?void 0:Me.source}}};var Fe,Ve,je;Y.parameters={...Y.parameters,docs:{...(Fe=Y.parameters)==null?void 0:Fe.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'top-left'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'top-left');
  }
}`,...(je=(Ve=Y.parameters)==null?void 0:Ve.docs)==null?void 0:je.source}}};var Ke,He,Ue;J.parameters={...J.parameters,docs:{...(Ke=J.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'top-right'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'top-right');
  }
}`,...(Ue=(He=J.parameters)==null?void 0:He.docs)==null?void 0:Ue.source}}};var We,qe,Xe;Z.parameters={...Z.parameters,docs:{...(We=Z.parameters)==null?void 0:We.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastPosition: 'bottom-left'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const toast = await findByRole(document.body, 'status', {
      name: 'Notification'
    });
    expect(toast).toBeVisible();
    expect(toast).toHaveAttribute('data-position', 'bottom-left');
  }
}`,...(Xe=(qe=Z.parameters)==null?void 0:qe.docs)==null?void 0:Xe.source}}};var ze,Ye,Je;G.parameters={...G.parameters,docs:{...(ze=G.parameters)==null?void 0:ze.docs,source:{originalSource:`{
  ...Template,
  args: {
    ...Template.args,
    content: <Button>Custom button</Button>
  },
  play: async ({
    canvasElement
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    userEvent.click(button);
    const customButton = await findByText(document.body, 'Custom button');
    expect(customButton).toBeVisible();
  }
}`,...(Je=(Ye=G.parameters)==null?void 0:Ye.docs)==null?void 0:Je.source}}};var Ze,Ge,Qe;Q.parameters={...Q.parameters,docs:{...(Ze=Q.parameters)==null?void 0:Ze.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastIgnorePredicate: (existing, incoming) => existing.some(t => t.title === incoming.title && t.description === incoming.description)
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement,
    args
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    await userEvent.click(button);
    await userEvent.click(button); // should be ignored

    const toasts = await findAllByText(document.body, args.title ?? '');
    expect(toasts.length).toBe(1);
  }
}`,...(Qe=(Ge=Q.parameters)==null?void 0:Ge.docs)==null?void 0:Qe.source}}};var et,tt,nt;ee.parameters={...ee.parameters,docs:{...(et=ee.parameters)==null?void 0:et.docs,source:{originalSource:`{
  ...Template,
  decorators: [Story => <ArmstrongProvider config={{
    toastDisplayMode: 'replace'
  }}>
        <Story />
      </ArmstrongProvider>],
  play: async ({
    canvasElement,
    args
  }) => {
    const button = within(canvasElement).getByText('Send a toast');
    await userEvent.click(button);
    await userEvent.click(button); // should replace the previous toast

    const toasts = await findAllByText(document.body, args.title ?? '');
    expect(toasts.length).toBe(1);
  }
}`,...(nt=(tt=ee.parameters)==null?void 0:tt.docs)==null?void 0:nt.source}}};const Rn=["Default","CustomDuration","TopLeft","TopRight","BottomLeft","CustomContent","IgnoreDuplicateToast","ReplaceDisplayMode"],Mn=Object.freeze(Object.defineProperty({__proto__:null,BottomLeft:Z,CustomContent:G,CustomDuration:z,Default:W,IgnoreDuplicateToast:Q,ReplaceDisplayMode:ee,TopLeft:Y,TopRight:J,__namedExportsOrder:Rn,default:Sn},Symbol.toStringTag,{value:"Module"}));export{W as D,fe as T,Mn as t};
